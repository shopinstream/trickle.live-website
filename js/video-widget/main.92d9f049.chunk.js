(this.webpackJsonpplubin_rct=this.webpackJsonpplubin_rct||[]).push([[0],{17:function(e,t,n){},40:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(11),l=n.n(i),o=(n(40),n.p+"static/media/logo.6ce24c58.svg"),a=(n(17),n(16)),r=n.n(a),d=n(35),j=n(31),u=n(6),b=n(32),h=n.n(b),p=n(33),x=n.n(p),O=n(5),f=n(34),y=n.n(f),m=n(0);var k=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!0),l=Object(u.a)(i,2),o=l[0],a=l[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),f=p[0],k=p[1],_=Object(c.useState)(!1),v=Object(u.a)(_,2),g=(v[0],v[1],Object(c.useState)(0)),N=Object(u.a)(g,2),w=N[0],S=N[1],C=Object(c.useState)(!0),T=Object(u.a)(C,2),E=T[0],A=T[1],F=Object(c.useState)(0),I=Object(u.a)(F,2),L=(I[0],I[1]),P=Object(c.useState)({x:0,y:0,dx:0,dy:0}),W=Object(u.a)(P,2),X=W[0],Y=W[1],z=Object(c.useRef)(null);function R(e){console.log(X),console.log(f),console.log(e),!1===f&&0===X.dx&&0===X.dy&&(k(!0),a(!1))}return Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(r.a.mark((function e(){var t,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.uid,c=[],e.next=4,h.a.get("https://trickle-dashboard.herokuapp.com/feed/"+t);case 4:null!==(i=e.sent).data.liveStreams&&(console.log("pushed live stream url"),c.push({src:i.data.liveStreams[0].hlsUrl,isPlaying:!0,title:"Live"})),i.data.videos.forEach((function(e){e.post.mediaUri.indexOf(".mp4")>-1&&c.push({src:e.post.mediaUri,isPlaying:!1,title:e.post.title})})),console.log("-------composed array from server response-------"),console.log(c),s.apply(void 0,Object(d.a)(n).concat([c]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}();var t=f&&window.innerWidth<600?-1*(.5625*window.innerHeight-window.innerWidth)/2:0;L(t),console.log(t)}),[]),Object(m.jsx)(y.a,{disabled:f,onStop:function(e){var t=0,n=0;"touchend"===e.type?(t=e.changedTouches[0].clientX-X.x,n=e.changedTouches[0].clientY-X.y):(t=e.clientX-X.x,n=e.clientY-X.y),Y({x:0,y:0,dx:t,dy:n})},onStart:function(e){"touchstart"===e.type?Y({x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY,dx:0,dy:0}):Y({x:e.clientX,y:e.clientY,dx:0,dy:0})},nodeRef:z,children:Object(m.jsxs)("div",{ref:z,className:f?"maximised_player_trickle":"minimised_player_trickle",style:{cursor:f?"inherit":"pointer",display:n.length>0?"flex":"none"},children:[Object(m.jsxs)("div",{className:"top_banner_desktop_triclke",style:{display:f?"flex":"none"},children:[Object(m.jsx)(O.h,{onClick:function(){return s([])},className:"buttons_trickle"}),Object(m.jsx)(O.d,{onClick:function(){k(!1),a(!0)},className:"buttons_trickle"})]}),Object(m.jsxs)("div",{className:"video_wrapper_trickle",onClick:function(e){R(e)},onTouchEnd:function(e){R(e)},children:[Object(m.jsx)(x.a,{loop:!0,height:!0===f?"100vh":218,width:!0===f?"auto":122.625,playsinline:!0,className:"react_player_trickle",url:n.length>0?n[w].src:"",muted:o,playing:E,controls:!1}),Object(m.jsx)("div",{style:{display:f?"none":"flex"},className:"minimised_close_container_trickle",children:Object(m.jsx)(O.h,{onClick:function(){return s([])},onTouchEnd:function(){return s([])},className:"buttons_trickle"})}),Object(m.jsxs)("div",{className:"on_video_bar_container_trickle",style:{display:f?"flex":"none",zIndex:2},children:[Object(m.jsx)("div",{className:"video_title_trickle",children:Object(m.jsx)("span",{style:{color:"white",fontWeight:"bold",fontSize:18},children:n.length>0?n[w].title:""})}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)("div",{style:{display:o?"inherit":"none",cursor:"pointer"},children:Object(m.jsx)(O.i,{onClick:function(){return a(!1)},className:"buttons_trickle"})}),Object(m.jsx)("div",{style:{display:o?"none":"block",cursor:"pointer"},children:Object(m.jsx)(O.j,{onClick:function(){return a(!0)},className:"buttons_trickle"})}),Object(m.jsx)("div",{onClick:function(){k(!1),a(!0)},children:Object(m.jsx)(O.c,{style:{display:window.innerWidth<600?"block":"none"},className:"buttons_trickle"})})]})]}),Object(m.jsx)("div",{className:"on_video_bar_bottom_container_trickle",style:{display:f?"flex":"none",zIndex:2},children:Object(m.jsxs)("div",{className:"pasue_share_trickle",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(O.e,{onClick:function(){return A(!1)},style:{display:E?"inherit":"none"},className:"buttons_trickle"}),Object(m.jsx)(O.f,{onClick:function(){return A(!0)},style:{display:E?"none":"inherit"},className:"buttons_trickle"})]}),Object(m.jsx)("div",{children:Object(m.jsx)(O.g,{className:"buttons_trickle"})})]})})]}),Object(m.jsxs)("div",{className:"arrows_container_trickle",style:{display:f?"flex":"none"},children:[Object(m.jsx)(O.a,{onClick:function(){w>0&&S(w-1)},className:"buttons_trickle"}),Object(m.jsx)(O.b,{onClick:function(){w<n.length-1&&S(w+1)},className:"buttons_trickle"})]})]})})};var _=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(k,{}),Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),Object(m.jsxs)("p",{children:["Edit ",Object(m.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(m.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),c(e),s(e),i(e),l(e)}))};l.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(_,{})}),document.getElementById("trickle_root")),v()}},[[86,1,2]]]);
//# sourceMappingURL=main.92d9f049.chunk.js.map
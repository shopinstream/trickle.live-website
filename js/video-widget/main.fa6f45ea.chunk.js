(this.webpackJsonpplubin_rct=this.webpackJsonpplubin_rct||[]).push([[0],{17:function(e,t,n){},40:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(11),l=n.n(s),o=(n(40),n.p,n(17),n(16)),a=n.n(o),r=n(35),d=n(31),u=n(6),j=n(32),b=n.n(j),h=n(33),p=n.n(h),x=n(5),O=n(34),f=n.n(O),y=n(1);var m=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!0),l=Object(u.a)(s,2),o=l[0],j=l[1],h=Object(c.useState)(!1),O=Object(u.a)(h,2),m=O[0],_=O[1],k=Object(c.useState)(!1),v=Object(u.a)(k,2),g=(v[0],v[1],Object(c.useState)(0)),N=Object(u.a)(g,2),w=N[0],S=N[1],C=Object(c.useState)(!0),T=Object(u.a)(C,2),E=T[0],F=T[1],I=Object(c.useState)(0),P=Object(u.a)(I,2),W=(P[0],P[1]),X=Object(c.useState)({x:0,y:0,dx:0,dy:0}),Y=Object(u.a)(X,2),z=Y[0],L=Y[1],U=Object(c.useRef)(null);function B(e){console.log(z),console.log(m),console.log(e),!1===m&&0===z.dx&&0===z.dy&&(_(!0),j(!1))}return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(a.a.mark((function e(){var t,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.uid,c=[],e.next=4,b.a.get("https://trickle-dashboard.herokuapp.com/feed/"+t);case 4:null!==(s=e.sent).data.liveStreams&&(console.log("pushed live stream url"),c.push({src:s.data.liveStreams[0].hlsUrl,isPlaying:!0,title:"Live"})),s.data.videos.forEach((function(e){if(e.post.mediaUri.indexOf(".mp4")>-1){var t=e.post.mediaUri.split(".m3u8")[0];c.push({src:t,isPlaying:!1,title:e.post.title})}})),console.log("-------composed array from server response-------"),console.log(c),i.apply(void 0,Object(r.a)(n).concat([c]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}();var t=m&&window.innerWidth<600?-1*(.5625*window.innerHeight-window.innerWidth)/2:0;W(t),console.log(t)}),[]),Object(y.jsx)(f.a,{disabled:m,onStop:function(e){var t=0,n=0;"touchend"===e.type?(t=e.changedTouches[0].clientX-z.x,n=e.changedTouches[0].clientY-z.y):(t=e.clientX-z.x,n=e.clientY-z.y),L({x:0,y:0,dx:t,dy:n})},onStart:function(e){"touchstart"===e.type?L({x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY,dx:0,dy:0}):L({x:e.clientX,y:e.clientY,dx:0,dy:0})},nodeRef:U,children:Object(y.jsxs)("div",{ref:U,className:m?"maximised_player_trickle":"minimised_player_trickle",style:{cursor:m?"inherit":"pointer",display:n.length>0?"flex":"none",top:m?0:""},children:[Object(y.jsxs)("div",{className:"top_banner_desktop_triclke",style:{display:m?"flex":"none"},children:[Object(y.jsx)(x.h,{onClick:function(){return i([])},className:"buttons_trickle"}),Object(y.jsx)(x.d,{onClick:function(){_(!1),j(!0)},className:"buttons_trickle"})]}),Object(y.jsxs)("div",{className:"video_wrapper_trickle",onClick:function(e){B(e)},onTouchEnd:function(e){B(e)},children:[Object(y.jsx)(p.a,{loop:!0,height:!0===m?"100vh":218,width:!0===m?"auto":122.625,playsinline:!0,className:"react_player_trickle",url:n.length>0?n[w].src:"",muted:o,playing:E,controls:!1}),Object(y.jsx)("div",{style:{display:m?"none":"flex"},className:"minimised_close_container_trickle",children:Object(y.jsx)(x.h,{onClick:function(){return i([])},onTouchEnd:function(){return i([])},className:"buttons_trickle"})}),Object(y.jsxs)("div",{className:"on_video_bar_container_trickle",style:{display:m?"flex":"none",zIndex:2},children:[Object(y.jsx)("div",{className:"video_title_trickle",children:Object(y.jsx)("span",{style:{color:"white",fontWeight:"bold",fontSize:18},children:n.length>0?n[w].title:""})}),Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("div",{style:{display:o?"inherit":"none",cursor:"pointer"},children:Object(y.jsx)(x.i,{onClick:function(){return j(!1)},className:"buttons_trickle"})}),Object(y.jsx)("div",{style:{display:o?"none":"block",cursor:"pointer"},children:Object(y.jsx)(x.j,{onClick:function(){return j(!0)},className:"buttons_trickle"})}),Object(y.jsx)("div",{onClick:function(){_(!1),j(!0)},children:Object(y.jsx)(x.c,{style:{display:window.innerWidth<600?"block":"none"},className:"buttons_trickle"})})]})]}),Object(y.jsx)("div",{className:"on_video_bar_bottom_container_trickle",style:{display:m?"flex":"none",zIndex:2},children:Object(y.jsxs)("div",{className:"pasue_share_trickle",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(x.e,{onClick:function(){return F(!1)},style:{display:E?"inherit":"none"},className:"buttons_trickle"}),Object(y.jsx)(x.f,{onClick:function(){return F(!0)},style:{display:E?"none":"inherit"},className:"buttons_trickle"})]}),Object(y.jsx)("div",{children:Object(y.jsx)(x.g,{className:"buttons_trickle"})})]})})]}),Object(y.jsxs)("div",{className:"arrows_container_trickle",style:{display:m?"flex":"none"},children:[Object(y.jsx)(x.a,{onClick:function(){w>0&&S(w-1)},className:"buttons_trickle"}),Object(y.jsx)(x.b,{onClick:function(){w<n.length-1&&S(w+1)},className:"buttons_trickle"})]})]})})};var _=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(m,{})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),i(e),s(e),l(e)}))};l.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(_,{})}),document.getElementById("trickle_root")),k()}},[[86,1,2]]]);
//# sourceMappingURL=main.fa6f45ea.chunk.js.map
(this.webpackJsonpplubin_rct=this.webpackJsonpplubin_rct||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(12),l=n.n(s),o=(n(41),n.p,n(18),n(17)),r=n.n(o),a=n(36),d=n(32),u=n(7),j=n(33),b=n.n(j),h=n(16),p=n.n(h),x=n(6),f=n(34),O=n.n(f),y=(n(86),n(35)),_=n.n(y),k=n(1);var m=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!0),l=Object(u.a)(s,2),o=l[0],j=l[1],h=Object(c.useState)(!1),f=Object(u.a)(h,2),y=f[0],m=f[1],v=Object(c.useState)(!1),g=Object(u.a)(v,2),N=(g[0],g[1],Object(c.useState)(0)),w=Object(u.a)(N,2),S=w[0],C=w[1],T=Object(c.useState)(!0),F=Object(u.a)(T,2),E=F[0],B=F[1],I=Object(c.useState)(0),L=Object(u.a)(I,2),P=(L[0],L[1]),W=Object(c.useState)(!1),X=Object(u.a)(W,2),Y=X[0],z=X[1],U=Object(c.useState)({x:0,y:0,dx:0,dy:0}),D=Object(u.a)(U,2),J=D[0],R=D[1],A=Object(c.useRef)(null);function H(e){console.log(J),console.log(y),console.log(e),!1===y&&0===J.dx&&0===J.dy&&(m(!0),j(!1))}return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(r.a.mark((function e(){var t,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.uid,c=[],e.next=4,b.a.get("https://trickle-dashboard.herokuapp.com/feed/"+t);case 4:null!==(s=e.sent).data.liveStreams&&(console.log("pushed live stream url"),c.push({src:s.data.liveStreams[0].hlsUrl,isPlaying:!0,title:"Live"})),s.data.videos.forEach((function(e){e.post.mediaUri.indexOf(".mp4")>-1&&c.push({src:e.post.mediaUri,isPlaying:!1,title:e.post.title})})),console.log("-------composed array from server response-------"),console.log(c),i.apply(void 0,Object(a.a)(n).concat([c]));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}();var t=y&&window.innerWidth<600?-1*(.5625*window.innerHeight-window.innerWidth)/2:0;P(t),console.log(t)}),[]),Object(k.jsx)(O.a,{disabled:y,onStop:function(e){var t=0,n=0;"touchend"===e.type?(t=e.changedTouches[0].clientX-J.x,n=e.changedTouches[0].clientY-J.y):(t=e.clientX-J.x,n=e.clientY-J.y),R({x:0,y:0,dx:t,dy:n})},onStart:function(e){"touchstart"===e.type?R({x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY,dx:0,dy:0}):R({x:e.clientX,y:e.clientY,dx:0,dy:0})},nodeRef:A,children:Object(k.jsxs)("div",{ref:A,className:y?"maximised_player_trickle":"minimised_player_trickle",style:{cursor:y?"inherit":"pointer",display:n.length>0?"flex":"none",top:y?0:""},children:[Object(k.jsxs)("div",{className:"top_banner_desktop_triclke",style:{display:y?"flex":"none"},children:[Object(k.jsx)(x.h,{onClick:function(){return i([])},className:"buttons_trickle"}),Object(k.jsx)(x.d,{onClick:function(){m(!1),j(!0)},className:"buttons_trickle"})]}),Object(k.jsxs)("div",{className:"video_wrapper_trickle",onClick:function(e){H(e)},onTouchEnd:function(e){H(e)},children:[Object(k.jsx)(p.a,{loop:!0,height:!0===y?"100vh":218,width:!0===y?"auto":122.625,playsinline:!0,className:"react_player_trickle",url:n.length>0?n[S].src:"",muted:o,playing:E,controls:!1,onBuffer:function(){return z(!0)},onBufferEnd:function(){return z(!1)}}),Object(k.jsx)("div",{className:"bufferSymbol_trickle",children:Object(k.jsx)(_.a,{visible:Y,type:"ThreeDots",color:"#00BFFF",height:80,width:80})}),Object(k.jsx)("div",{style:{display:y?"none":"flex"},className:"minimised_close_container_trickle",children:Object(k.jsx)(x.h,{onClick:function(){return i([])},onTouchEnd:function(){return i([])},className:"buttons_trickle"})}),Object(k.jsxs)("div",{className:"on_video_bar_container_trickle",style:{display:y?"flex":"none",zIndex:2},children:[Object(k.jsx)("div",{className:n.length>0&&"Live"===n[S].title?"video_title_container_live_trickle":"video_title_container_trickle",children:Object(k.jsx)("span",{style:{color:"white",fontWeight:"bold",fontSize:18},children:n.length>0?n[S].title:""})}),Object(k.jsxs)("div",{style:{display:"flex"},children:[Object(k.jsx)("div",{style:{display:o?"inherit":"none",cursor:"pointer"},children:Object(k.jsx)(x.i,{onClick:function(){return j(!1)},className:"buttons_trickle"})}),Object(k.jsx)("div",{style:{display:o?"none":"block",cursor:"pointer"},children:Object(k.jsx)(x.j,{onClick:function(){return j(!0)},className:"buttons_trickle"})}),Object(k.jsx)("div",{onClick:function(){m(!1),j(!0)},children:Object(k.jsx)(x.c,{style:{display:window.innerWidth<600?"block":"none"},className:"buttons_trickle"})})]})]}),Object(k.jsx)("div",{className:"on_video_bar_bottom_container_trickle",style:{display:y?"flex":"none",zIndex:2},children:Object(k.jsxs)("div",{className:"pasue_share_trickle",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(x.e,{onClick:function(){return B(!1)},style:{display:E?"inherit":"none"},className:"buttons_trickle"}),Object(k.jsx)(x.f,{onClick:function(){return B(!0)},style:{display:E?"none":"inherit"},className:"buttons_trickle"})]}),Object(k.jsx)("div",{children:Object(k.jsx)(x.g,{className:"buttons_trickle"})})]})})]}),Object(k.jsxs)("div",{className:"arrows_container_trickle",style:{display:y?"flex":"none"},children:[Object(k.jsx)(x.a,{onClick:function(){S>0&&C(S-1)},className:"buttons_trickle"}),Object(k.jsx)(x.b,{onClick:function(){S<n.length-1&&C(S+1)},className:"buttons_trickle"})]})]})})};var v=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(m,{})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),i(e),s(e),l(e)}))};l.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(v,{})}),document.getElementById("trickle_root")),g()},18:function(e,t,n){},41:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.8085de90.chunk.js.map